# 航班票务管理系统（Flight Booking System）
> 课程项目大作业 · QT + MySQL/SQLite 平台  
> 项目小组成员：S（前端） · C（前端） · D（后端） · Z（后端）  
> 指导教师：_________  
> 日期：2025 年秋季学期  

---

## 🧭 一、项目简介

本项目旨在实现一个基于 **Qt 框架** 与 **数据库系统（MySQL / SQLite / Access）** 的桌面端航班票务管理系统。  
系统功能涵盖用户注册登录、航班查询与预订、订单管理、管理员航班维护等。

项目采用前后端分工协作模式：
- **前端（Qt UI）**：用户界面、交互逻辑、样式与体验（S / C）
- **后端（数据库 + 逻辑）**：数据存取、业务规则、事务控制（D / Z）

---

## 📁 二、项目结构（目录说明）

```bash
FlightBookingSystem/
├─ main.cpp                      # 程序入口
│
├─ mainwindow.ui                 # 主窗口界面
├─ mainwindow.cpp
├─ mainwindow.h
│
├─ login.ui                      # 登录界面
├─ login.cpp
├─ login.h
│
├─ register.ui                   # 注册界面
├─ register.cpp
├─ register.h
│
├─ flightmanager.ui              # 管理员航班管理界面
├─ flightmanager.cpp
├─ flightmanager.h
│
├─ dbmanager.h                   # 数据库管理模块（连接池 / SQL 封装）
├─ dbmanager.cpp
│
├─ models/                       # 数据模型层
│   ├─ user.h / user.cpp         # 用户模型类
│   ├─ flight.h / flight.cpp     # 航班模型类
│   ├─ order.h / order.cpp       # 订单模型类
│
├─ resources/                    # 静态资源
│   ├─ icons/                    # 图标资源
│   └─ style.qss                 # Qt 样式表（全局 UI 主题）
│
├─ sql/
│   └─ init_tables.sql           # 数据库初始化脚本（建表 + 示例数据）
│
├─ docs/
│   ├─ ERD.png                   # 数据库实体关系图
│   ├─ project_plan.md           # 项目计划与分工说明（本文件）
│   └─ report.md                 # 最终报告 / 技术说明
│
└─ README.md                     # 项目说明文件（当前文件）
```

---

## 👥 三、成员分工与职责

| 成员 | 职责 | 主要文件/模块 |
|------|------|----------------|
| **S（前端负责人）** | 主界面逻辑与UI风格设计；航班列表页与导航逻辑；样式优化 | `mainwindow.*`, `flightmanager.ui`, `resources/style.qss` |
| **C（前端开发）** | 登录/注册页、订单前端逻辑；前端校验与交互动画 | `login.*`, `register.*`, `order`相关界面 |
| **D（后端负责人）** | 数据库封装与管理模块；建表脚本；事务与连接管理 | `dbmanager.*`, `sql/init_tables.sql` |
| **Z（后端开发）** | 模型层实现（User, Flight, Order）；订单与座位逻辑；报表导出 | `models/*.cpp`, 报表功能 |
| **全体** | 测试、文档、演示答辩 | `README.md`, `report.md`, PPT |

---

## 🗓️ 四、项目周计划（建议 8 周）

| 周次 | 主要目标 | 交付成果 |
|------|-----------|-----------|
| **Week 0** | 项目立项、任务分工、环境搭建、数据库选型（MySQL / SQLite） | 项目初始化、ERD 图、分工表 |
| **Week 1** | 原型设计、界面草图、数据库结构设计 | 原型图 + ER 图 |
| **Week 2** | 创建 Qt 工程骨架、初始化数据库表 | Qt 项目结构、`init_tables.sql` |
| **Week 3** | 实现管理员航班管理（CRUD） | 航班增删改查模块 |
| **Week 4** | 用户端航班查询与预订界面 | 航班查询、筛选与下单界面 |
| **Week 5** | 订单管理、退票功能 | 订单页 + 退票逻辑 |
| **Week 6** | 测试与优化、异常处理与事务机制 | 测试报告初稿 |
| **Week 7** | 撰写报告、完善界面、文档整理 | 用户手册、技术报告 |
| **Week 8** | 答辩与演示 | 最终可运行系统、PPT、演示视频 |

---

## ⚙️ 五、核心功能模块

| 模块 | 功能描述 | 负责人 |
|------|-----------|---------|
| **用户系统** | 注册、登录、修改资料 | C / D |
| **航班查询** | 查询、筛选、排序航班信息 | S |
| **订单系统** | 生成、查看、取消订单 | C / Z |
| **航班管理（管理员）** | 新增/修改/删除航班 | S / D |
| **数据库** | 建表、查询、事务、数据一致性 | D |
| **样式与UI优化** | 主题、图标、动画 | S |
| **测试与文档** | 单元/集成测试、报告编写 | 全体 |

---

## 🧩 六、数据库设计（概述）

**主要数据表：**
- `users`（用户信息）
- `flights`（航班信息）
- `orders`（订单记录）
- `seats`（座位信息，可选）
- `admins`（管理员账号）

**数据库初始化脚本：**
位于 `sql/init_tables.sql`，包含：
- 表结构定义
- 示例数据（测试航班与用户）
- 外键与索引约束

---

## 🧪 七、测试计划

- **单元测试**：模型层与数据库访问接口（D / Z）
- **功能测试**：登录/注册/查询/下单流程（C / S）
- **边界测试**：重复预订、空字段输入、非法账号（全体）
- **压力测试（可选）**：多用户并发预订场景（Z）

---

## 🎨 八、界面设计与样式

- 样式文件统一管理于 `resources/style.qss`
- 图标存放在 `resources/icons/`
- UI 模块采用 Qt Designer 设计（`.ui` 文件）
- 界面主题：简洁、航旅风格蓝白主色调

---

## 🧾 九、评分方案（总分 100 分）

| 项目 | 权重 | 说明 |
|------|------|------|
| **功能实现** | 40 | 登录注册、航班查询、预订、退票、管理员功能完整 |
| **代码与架构** | 20 | 模块分层清晰、代码规范、注释完整 |
| **UI/UX 体验** | 15 | 界面美观、交互合理、样式一致 |
| **测试与稳定性** | 10 | 功能测试与异常处理完善 |
| **文档与报告** | 10 | 完整的 README、设计文档与用户手册 |
| **演示与答辩** | 5 | 演示清晰、逻辑流畅、回答准确 |

> **个人分数调整**：根据同行评议（贡献程度、按时完成度、协作）在组总分基础上进行 ±10% 调整。

---

## 📘 十、提交与演示要求

- **提交内容：**
  - 项目完整源码（含数据库脚本）
  - 可运行可执行程序 / 可部署文件
  - 报告（PDF/Markdown）
  - 演示 PPT 与视频（如需）

- **演示内容建议：**
  1. 用户注册/登录演示  
  2. 航班查询与下单  
  3. 订单查看与退票  
  4. 管理员添加/修改航班  
  5. 简要展示数据库表结构与数据一致性

---

## 💡 十一、附加加分点（可选）

- 座位可视化选择  
- 模拟支付流程  
- 报表统计与导出（CSV / 图表）  
- 登录加密、权限分级  
- 使用 GitHub Actions 自动化构建与测试  

---

## ✍️ 十二、版本控制建议

- 主分支 `main`：稳定版本  
- 开发分支 `dev`：日常开发  
- 功能分支：`feature/<模块名>`  
- 每次提交前执行 `pull --rebase` 并通过代码审查  
- 每周例会一次（线上或线下），记录于 issue

---

## 🧑‍💻 十三、项目成员签名确认

| 成员 | 学号 | 签名 | 日期 |
|------|------|------|------|
| S |  |  |  |
| C |  |  |  |
| D |  |  |  |
| Z |  |  |  |

---

> 本项目 README 为课程大作业项目计划书版本，包含完整结构、分工与评分说明。  
> 后续开发日志与版本更新将追加于 `CHANGELOG.md` 文件中。
